(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"10":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{"value":!0}),t.default=void 0;var i=function(){function defineProperties(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,a){return t&&defineProperties(e.prototype,t),a&&defineProperties(e,a),e}}(),n=a(1),l=_interopRequireDefault(n),s=_interopRequireDefault(a(2)),o=a(11),r=a(13);a(21);var c=_interopRequireDefault(a(12));function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var m=function(e){function Index(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Index);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Index.__proto__||Object.getPrototypeOf(Index)).apply(this,arguments));return e.config={"navigationBarTitleText":"历史工作"},e.state={"userinfo":{"type":"userAvatarUrl"},"currenttime":"","register":{"msg":"error","state":!1},"username":"","phone":"","current":2,"currentdate":0,"current_today":"","onedayago":"","twodayago":"","today_data":[],"onedayago_data":[],"twodayago_data":[],"today_ext":{"id":"1","daily_sum":""},"onedayago_ext":{"id":"1","daily_sum":""},"twodayago_ext":{"id":"1","daily_sum":""},"itemtitles":["时长(分)","类别","工作项目","工作内容及说明","效率指数","效果指数","驱动指数"],"moment":["9:00","9:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00"],"showmodel":!1,"modeldatatitle":"标题","value":"","idMname":{"work_start_time":"开始时间","length_time":"时长(分)","category":"类别","work_project":"工作项目","work_content":"工作内容及说明","work_efficiency":"效率自评","work_effect":"效果自评","work_myself":"驱动自评"},"targhtid":[],"showmessageboolean":!1,"showmaeeagecontext":"","systemheight":"","resttime":"08:00,08:30,12:00,12:30,13:00,13:30,18:00,18:30,19:00,19:30,20:00,20:30,21:00","lockstate":!1,"functioncControlict":{},"scrolltitlex":0,"scrolltitley":0,"showrankmodel":!1,"contextscrolltitlex":0,"contextscrolltitley":0,"ischangetime":!1,"maintask":[],"showloginmodel":!1,"isinput":!1,"rangevalue":50,"timelong":{"min":10,"max":120,"step":5},"ranklong":{"min":1,"max":10,"step":.5},"textareasize":400,"inputfocus":!1,"primitivedata":"","random":0,"department":["-请选择-"],"mydepartment":"","time":"2019-01-08","showCalendar":!1,"selectdate":""},e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,n.Component),i(Index,[{"key":"componentWillMount","value":function componentWillMount(){}},{"key":"componentDidMount","value":function componentDidMount(){}},{"key":"componentWillUnmount","value":function componentWillUnmount(){}},{"key":"componentDidShow","value":function componentDidShow(){this.state.time=this.$router.params.date,this.state.current_today=this.$router.params.today,console.log("current date = "+this.state.current_today),console.log("select date = "+this.state.time),this.pulldata(this.$router.params.date)}},{"key":"componentDidHide","value":function componentDidHide(){}},{"key":"pulldata","value":function pulldata(e){var t=this;console.log("history pulldata time="+e),l.default.request({"url":c.default.locality_address+"/v1/work/notes","data":{"phone":l.default.getStorageSync("phone"),"scene":"web","date":e}}).then(function(e){console.log(e.data.success_msg.info);var a=[];e.data.success_msg.info.map(function(e){(null!=e.length_time&&""!=e.length_time||null!=e.category&&""!=e.category||null!=e.work_project&&""!=e.work_project||null!=e.work_content&&""!=e.work_content||null!=e.work_efficiency&&0!=e.work_efficiency||null!=e.work_effect&&0!=e.work_effect||null!=e.work_myself&&0!=e.work_myself)&&a.push(e)}),t.setState({"today_data":a,"today_ext":e.data.success_msg.ext})})}},{"key":"render","value":function render(){var e=this,t=this.state.today_data,a=this.state.today_ext,i=t.map(function(t){return s.default.createElement(o.View,{"className":"tabletitle","id":t.id},s.default.createElement(o.View,{"id":"work_start_time@@"+t.id,"style":e.state.resttime.indexOf(t.work_start_time)>-1&&t.work_start_time.length>=5?"color:green":"none","className":"itemcontext-his itemcontexttime"},t.work_start_time),s.default.createElement(o.View,{"id":"length_time@@"+t.id,"className":"itemcontext-his"},t.length_time),s.default.createElement(o.View,{"id":"work_effect@@"+t.id,"className":"itemcontext-his"},t.work_effect),s.default.createElement(o.View,{"id":"work_project@@"+t.id,"className":"itemcontext-his itemcontext_long_project"},t.work_project),s.default.createElement(o.View,{"id":"work_content@@"+t.id,"className":"itemcontext-his itemcontext_long"},t.work_content),s.default.createElement(o.View,{"id":"work_efficiency@@"+t.id,"className":"itemcontext-his"},t.work_efficiency),s.default.createElement(o.View,{"id":"work_myself@@"+t.id,"className":"itemcontext-his itemcontextright"},t.work_myself))}),n=s.default.createElement(o.View,{"className":"itemtitleplus","id":"ScrollView222"},s.default.createElement(o.View,{"className":"tabletitle-dis"},s.default.createElement(o.View,{"className":"itemtitle-his itemtitletime"},"时间"),s.default.createElement(o.View,{"className":"itemtitle-his"},"时长(分)"),s.default.createElement(o.View,{"className":"itemtitle-his"},"对应目标"),s.default.createElement(o.View,{"className":"itemtitle-his itemtitle_long_project"},"工作项目"),s.default.createElement(o.View,{"className":"itemtitle-his itemtitle_long"},"工作内容及说明"),s.default.createElement(o.View,{"className":"itemtitle-his"},"效率自评"),s.default.createElement(o.View,{"className":"itemtitle-his itemcontextright"},"驱动自评"))),l=s.default.createElement(o.View,{"className":"logcontext"},s.default.createElement(o.View,{"className":"table","id":"hhhtab3"},i));return s.default.createElement(o.View,{"className":"index"},s.default.createElement(o.View,{"className":"icontitle"},s.default.createElement(o.View,{"className":"backplus"},s.default.createElement(o.Image,{"src":"https://cdn-xyx.raink.com.cn/elsfkxxk/201901051546668599.png","style":"height: 57px;width: 145px;margin: 5px  0 0 25px;"}),s.default.createElement(r.AtButton,{"size":"small","circle":!0,"type":"secondary","className":"back","onClick":this.back.bind(this)},"返回")),s.default.createElement(r.AtButton,{"size":"small","type":"primary","className":"exit","onClick":this.showhistory.bind(this)},"日历")),s.default.createElement(o.View,{"className":"contentplus"},s.default.createElement(o.View,{"className":"fyview"},s.default.createElement(r.AtButton,{"size":"small","className":"exit","onClick":this.last.bind(this)},"上一天"),s.default.createElement(o.Text,null,this.state.time),s.default.createElement(r.AtButton,{"size":"small","className":"exit","disabled":this.state.current_today==this.state.time,"onClick":this.next.bind(this)},"下一天")),s.default.createElement(o.View,{"className":"content"},s.default.createElement(o.View,{"className":"test1"},n,l),s.default.createElement(o.View,{"className":"bottom_self"},"今日工作要点自评:"),s.default.createElement(o.View,{"id":"daily_sum@@"+a.id,"className":"bottom_value"},a.daily_sum))),s.default.createElement(r.AtModal,{"isOpened":this.state.showCalendar,"className":"model"},s.default.createElement(r.AtModalHeader,null,"历史日志"),s.default.createElement(r.AtModalContent,null,s.default.createElement(o.View,{"className":"delmode"},s.default.createElement(r.AtCalendar,{"format":"YYYY-MM-DD","minDate":"2018/1/1","maxDate":this.maxdate(),"onDayClick":this.datechange.bind(this)}))),s.default.createElement(r.AtModalAction,null,s.default.createElement(o.Button,{"onClick":this.closeCalendar.bind(this,1,"点击了取消")},"取消"),s.default.createElement(o.Button,{"style":"color:#6190E8","onClick":this.flashdata.bind(this,1,"点击了登录")},"确定"))))}},{"key":"back","value":function back(){l.default.navigateBack()}},{"key":"showhistory","value":function showhistory(e){this.setState({"showCalendar":!0})}},{"key":"datechange","value":function datechange(e){this.setState({"selectdate":e.value})}},{"key":"flashdata","value":function flashdata(e){""!=this.state.selectdate&&this.state.selectdate!=this.state.time?(this.state.time=this.state.selectdate,this.pulldata(this.state.time),this.closeCalendar()):this.closeCalendar()}},{"key":"closeCalendar","value":function closeCalendar(){this.setState({"showCalendar":!1})}},{"key":"maxdate","value":function maxdate(){return this.state.current_today.replace(/-/g,"/")}},{"key":"next","value":function next(e){var t=this.state.time+" 17:00:00.0";t=(t=t.substring(0,19)).replace(/-/g,"/");var a=new Date(t).getTime()+864e5;this.state.time=this.timedaty_m_d(a),this.pulldata(this.state.time)}},{"key":"last","value":function last(e){var t=this.state.time+" 17:00:00.0";t=(t=t.substring(0,19)).replace(/-/g,"/");var a=new Date(t).getTime()-864e5;this.state.time=this.timedaty_m_d(a),this.pulldata(this.state.time)}},{"key":"timedaty_m_d","value":function timedaty_m_d(e){var t=new Date(e),a=t.getFullYear(),i=t.getMonth()+1;i<10&&(i="0"+i);var n=t.getDate();return n<10&&(n="0"+n),a+"-"+i+"-"+n}}]),Index}();t.default=m},"11":function(e,t,a){e.exports=a(0)(18)},"12":function(e,t,a){"use strict";e.exports.locality_address="https://xyx-mainland-api.raink.com.cn"},"21":function(e,t,a){}}]);